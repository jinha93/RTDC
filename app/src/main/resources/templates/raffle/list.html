<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<!-- head -->
<head th:replace="fragment/header :: head"></head>
<style>
	.card-img-top{
		max-width: 100%;
		height: 270px;
/*    		height: auto !important; */
	}
	.card:hover {
		cursor: pointer;	
	}
</style>
<body>
	<!-- header -->
	<header th:replace="fragment/header :: header"></header>
	

	<!-- content -->
	<div class="container-fluid">
	

		<div class="row">
			<div class="col-2 mt-5 d-none d-lg-block">
				<div class="border p-3 mt-3" style="border-radius: 20px;">
					<ul class="list-group list-group-flush">
						<li class="list-group-item"><a class="text-dark text-decoration-none" href="/raffle/list?status=0" th:classappend="${status} == 0 ? sbAggroM">진행중</a></li>
						<li class="list-group-item"><a class="text-dark text-decoration-none" href="/raffle/list?status=1" th:classappend="${status} == 1 ? sbAggroM">종료된</a></li>
<!-- 						<li class="list-group-item"><a class="text-dark text-decoration-none" href="/raffle/list?status=2" th:classappend="${status} == 2 ? sbAggroM">당첨자 발표</a></li> -->
					</ul>
				</div>
			</div>
			
			<div class="col">
				<div class="d-flex justify-content-start mt-4">
					<div class="my-auto">
						<h4 class="fw-bold" th:if="${status} == 0">진행중</h4>
						<h4 class="fw-bold" th:if="${status} == 1">종료된</h4>
<!-- 						<h4 class="fw-bold" th:if="${status} == 2">당첨자 발표</h4> -->
					</div>
				</div>
				<div class="row">
					<div th:each="raffle, i : ${raffleList}" th:if="${raffle.status == '0'}" class="col col-lg-4 col-md-6 col-sm-12 col-12">
						<div class="card mt-3" data-bs-toggle="modal" th:attr="data-bs-target=${'#exampleModal' + i.index}">
<!-- 							<div th:utext="${raffle.cardImgPath}"></div> -->
							<img th:src="${raffle.cardImgPath}" style="height: 300px;">
							<div class="card-body">
								<h5 th:text="${raffle.title}" class="card-title sbAggroM"></h5>
								<span th:text="${#temporals.format(raffle.startDateTime, 'yyyy.MM.dd')}" class="card-text"></span>
								<span>~</span>
								<span th:text="${#temporals.format(raffle.endDateTime, 'yyyy.MM.dd')}" class="card-text"></span>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<div class="text-end mt-3">
			<a type="button" class="btn btn-rtdc" th:href=@{/raffle/form} sec:authorize="hasRole('ADMIN')">작성</a>
		</div>
	</div>
	
	
	<!-- Modal -->
	<div th:each="raffle, i : ${raffleList}" class="modal fade" th:attr="id=${'exampleModal' + i.index}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-xl">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel" th:text="${raffle.title}">Modal title</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<p th:utext="${raffle.content}" class="card-text"></p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
	
	
	<!-- footer -->
	<footer th:replace="fragment/footer :: footer"></footer>
</body>
</html>
