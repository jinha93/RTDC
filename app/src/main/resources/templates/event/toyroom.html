<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<!-- head -->
<head th:replace="fragment/header :: head"></head>
<style>
	.pixelDiv{
		background-image: url("/assets/img/pixel-bg.png");
		background-repeat: no-repeat;
  		background-size: 100%; 
 		
 		max-width: 1600px;
 		height: 900px;
 		
	}
	.pixelContent{
 		padding-top: 6.8%;
 		padding-left: 9.4%;
	}
	.box{
		cursor: pointer;
		width:47%;
	}
	
	.box table{
		width: 100%;
		height: 100%;
		position: relative;
		z-index: 1;
	}
	.box table::before{
		content: "";
		background-image: url("/assets/img/MTDZ_1100.png");
		background-repeat: no-repeat;
  		background-size: cover;
  		position:absolute;
  		width:100%;
  		height: 100%;
  		opacity: 0.3;
  		z-index: -1;
	}
	.box tr,td{
		margin: 0px;
		padding:0px;
	}
	.box td{
		padding-bottom: 1%;
	}
	.box td:hover{
		background-color: #adb5bd
	}
	
	
	.pickerDiv{
		display: inline;
	}
	.sp-dd{
		display: none;
	}
	.sp-replacer{
		margin-top: 6.2%;
		margin-right: -13.5%;
		width: 18.3%;
		height: 1.1rem;
		border: none;
		position: relative;
	}
	.eraser{
		margin-top: 4%;
		width: 17%;
		height: 0;
		padding: 0px;
 		padding-bottom: 4%;
 		opacity: 0;
	}
	.whitebox{
 		background-color: white; 
		margin-top: 6.2%;
		margin-right: 6.4%;
		width: 11%;
		padding-bottom: 1%;
		position: relative;
	}
	.sp-preview:hover{
		border: none;
	}
	
	
</style>
<body>
	<!-- header -->
	<header th:replace="fragment/header :: header"></header>


	<!-- content -->
	<div style="background-color: #87c7e7;">
		
		<div class="pixelDiv mx-auto">
			<div class="pixelContent" id="content">	
				<div class="box">
					<div class="pickerDiv d-flex justify-content-end mt-1">
						<input type="text" id="picker" class="picker" value="black"><br>
						<span class="whitebox"></span>
						<button class="eraser" id="eraser" onclick="eraser()"></button>
					</div>
				</div>
			</div>
			
		</div>
	</div>


	<!-- footer -->
	<footer th:replace="fragment/footer :: footer"></footer>
</body>
<script>
	$(document).ready(function(){
		$(".picker").spectrum({
			type: "color"
		});
		
		var html = '';
		html += '<table>';
		for(var i=0; i<100; i++){
			html += '<tr>';
			for(var j=0; j<100; j++){
				html += '<td id="x'+i+'y'+j+'" onmousedown="mouseDown()" onmouseup="mouseUp()" onmousemove="paint(this.id)" ondragstart="return false"></td>';
			}
			html += '</tr>';
		}
		html += '</table>';
		
		$('.box').prepend(html);
	})
	
	var paintBoolean = false;
	function mouseDown(){
		paintBoolean = true;
	}
	function mouseUp(){
		paintBoolean = false;
	}
	function paint(target){
		if(paintBoolean){
			var colorCode = $(".picker").val();
			$('#'+target).css('background-color', colorCode);
		}
	}
	
	function eraser(){
		$("#picker").val("");
	}
</script>
</html>
